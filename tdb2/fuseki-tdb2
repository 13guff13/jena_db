#!/usr/bin/env bash

M2="/home/afs/.m2/repo"
export FUSEKI_HOME="${HOME}/Jena/jena-fuseki2/jena-fuseki-core"
export FUSEKI_BASE="${HOME}/tmp/run"

export JENA_DEP="$M2/xerces/xercesImpl/2.11.0/xercesImpl-2.11.0.jar:$M2/xml-apis/xml-apis/1.4.01/xml-apis-1.4.01.jar:$M2/com/github/jsonld-java/jsonld-java/0.5.1/jsonld-java-0.5.1.jar:$M2/com/fasterxml/jackson/core/jackson-core/2.3.3/jackson-core-2.3.3.jar:$M2/com/fasterxml/jackson/core/jackson-databind/2.3.3/jackson-databind-2.3.3.jar:$M2/com/fasterxml/jackson/core/jackson-annotations/2.3.0/jackson-annotations-2.3.0.jar:$M2/org/apache/httpcomponents/httpclient-cache/4.2.6/httpclient-cache-4.2.6.jar:$M2/org/apache/thrift/libthrift/0.9.2/libthrift-0.9.2.jar:$M2/org/apache/commons/commons-csv/1.0/commons-csv-1.0.jar:$M2/org/apache/commons/commons-lang3/3.3.2/commons-lang3-3.3.2.jar:$M2/org/apache/lucene/lucene-core/4.6.1/lucene-core-4.6.1.jar:$M2/org/apache/lucene/lucene-analyzers-common/4.6.1/lucene-analyzers-common-4.6.1.jar:$M2/org/apache/lucene/lucene-queryparser/4.6.1/lucene-queryparser-4.6.1.jar:$M2/org/apache/lucene/lucene-queries/4.6.1/lucene-queries-4.6.1.jar:$M2/org/apache/lucene/lucene-sandbox/4.6.1/lucene-sandbox-4.6.1.jar:$M2/jakarta-regexp/jakarta-regexp/1.4/jakarta-regexp-1.4.jar:$M2/org/apache/solr/solr-solrj/4.6.1/solr-solrj-4.6.1.jar:$M2/org/apache/zookeeper/zookeeper/3.4.5/zookeeper-3.4.5.jar:$M2/org/noggit/noggit/0.5/noggit-0.5.jar:$M2/org/apache/httpcomponents/httpmime/4.2.6/httpmime-4.2.6.jar:$M2/org/codehaus/woodstox/wstx-asl/3.2.7/wstx-asl-3.2.7.jar:$M2/org/apache/jena/jena-spatial/3.0.0-SNAPSHOT/jena-spatial-3.0.0-SNAPSHOT.jar:$M2/org/apache/lucene/lucene-spatial/4.6.1/lucene-spatial-4.6.1.jar:$M2/com/spatial4j/spatial4j/0.4/spatial4j-0.4.jar:$M2/org/apache/shiro/shiro-core/1.2.2/shiro-core-1.2.2.jar:$M2/commons-beanutils/commons-beanutils/1.8.3/commons-beanutils-1.8.3.jar:$M2/org/apache/shiro/shiro-web/1.2.2/shiro-web-1.2.2.jar:$M2/junit/junit/4.12/junit-4.12.jar:$M2/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:$M2/org/apache/httpcomponents/httpclient/4.2.6/httpclient-4.2.6.jar:$M2/org/apache/httpcomponents/httpcore/4.2.5/httpcore-4.2.5.jar:$M2/commons-codec/commons-codec/1.6/commons-codec-1.6.jar:$M2/commons-fileupload/commons-fileupload/1.3.1/commons-fileupload-1.3.1.jar:$M2/commons-io/commons-io/2.2/commons-io-2.2.jar:$M2/org/eclipse/jetty/jetty-webapp/9.1.1.v20140108/jetty-webapp-9.1.1.v20140108.jar:$M2/org/eclipse/jetty/jetty-xml/9.1.1.v20140108/jetty-xml-9.1.1.v20140108.jar:$M2/org/eclipse/jetty/jetty-servlet/9.1.1.v20140108/jetty-servlet-9.1.1.v20140108.jar:$M2/org/eclipse/jetty/jetty-security/9.1.1.v20140108/jetty-security-9.1.1.v20140108.jar:$M2/org/eclipse/jetty/jetty-server/9.1.1.v20140108/jetty-server-9.1.1.v20140108.jar:$M2/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:$M2/org/eclipse/jetty/jetty-servlets/9.1.1.v20140108/jetty-servlets-9.1.1.v20140108.jar:$M2/org/eclipse/jetty/jetty-continuation/9.1.1.v20140108/jetty-continuation-9.1.1.v20140108.jar:$M2/org/eclipse/jetty/jetty-http/9.1.1.v20140108/jetty-http-9.1.1.v20140108.jar:$M2/org/eclipse/jetty/jetty-util/9.1.1.v20140108/jetty-util-9.1.1.v20140108.jar:$M2/org/eclipse/jetty/jetty-io/9.1.1.v20140108/jetty-io-9.1.1.v20140108.jar:$M2/org/slf4j/slf4j-api/1.7.9/slf4j-api-1.7.9.jar:$M2/org/slf4j/slf4j-log4j12/1.7.9/slf4j-log4j12-1.7.9.jar:$M2/org/slf4j/jcl-over-slf4j/1.7.9/jcl-over-slf4j-1.7.9.jar:$M2/log4j/log4j/1.2.17/log4j-1.2.17.jar"

CP="$JENA_DEP"
CP="$CP:$M2/org/apache/jena/jena-shaded-guava/3.0.0-SNAPSHOT/jena-shaded-guava-3.0.0-SNAPSHOT.jar"
CP="$CP:$M2/org/apache/jena/jena-iri/3.0.0-SNAPSHOT/jena-iri-3.0.0-SNAPSHOT.jar"

JENA="$HOME/Jena"
DIRS1="$JENA/jena-tdb $JENA/jena-arq $JENA/jena-core $JENA/jena-base $JENA/jena-text $JENA/jena-fuseki2/jena-fuseki-core" 

MANTIS="${HOME}/Mantis"
DIRS2="$(echo $MANTIS/dboe-{base,index,index-btree,quack,transaction,trans-data})"

for D in $DIRS1 $DIRS2  $MANTIS/tdb2
do
    CP="$CP:$D/target/classes"
done

## echo $CP
## exit

exec java -cp "$CP" $JVM_ARGS $FUSEKI_LOG org.apache.jena.fuseki.cmd.FusekiCmd "$@"
